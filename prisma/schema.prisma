//////////////////////////////////////////////////////////////////////////////////////////////
// DO NOT MODIFY THIS FILE                                                                  //
// This file is automatically generated by ZenStack CLI and should not be manually updated. //
//////////////////////////////////////////////////////////////////////////////////////////////

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model barkNode {
  id           String  @id() @default(uuid())
  name         String
  path         String  @unique()
  depth        Int     @default(1)
  numchild     Int     @default(0)
  isFolder     Boolean @default(true)
  displayPath  String  @unique()
  supabasePath String?

  @@index([path])
  @@map("barkNodes")
}

model Folder {
  id          String   @id() @default(uuid())
  name        String
  displayPath String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt()
  files       File[]

  @@index([displayPath])
  @@map("folders")
}

model File {
  id           String   @id() @default(uuid())
  name         String
  displayPath  String   @unique()
  folderPath   String?
  size         Int?
  mimeType     String?
  extension    String?
  folderId     String?
  supabasePath String?
  bucketName   String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt()
  folder       Folder?  @relation(fields: [folderId], references: [id], onDelete: Cascade)

  @@map("files")
}
